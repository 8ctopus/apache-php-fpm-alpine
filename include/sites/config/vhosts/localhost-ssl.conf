<VirtualHost *:443>
    # server domain name
    ServerName localhost

    # site code directory
    DocumentRoot /sites/localhost/html/public

    # access and error logs
    ErrorLog /sites/localhost/logs/error_log
    CustomLog /sites/localhost/logs/access_log combined

    # set which file apache will serve when url is a directory
    DirectoryIndex index.html index.php

    # configure site code directory
    <Directory /sites/localhost/html/public>
        # Normally, if multiple Options could apply to a directory, then the most specific one is used and others are ignored; the options are not merged. (See how sections are merged.)
        # However if all the options on the Options directive are preceded by a + or - symbol, the options are merged.
        # Any options preceded by a + are added to the options currently in force, and any options preceded by a - are removed from the options currently in force.
        Options -ExecCGI +FollowSymLinks -SymLinksIfOwnerMatch -Includes -IncludesNOEXEC -Indexes -MultiViews

        # define what Options directives can be overriden in .htaccess
        AllowOverride All Options=ExecCGI,Includes,IncludesNOEXEC,Indexes,MultiViews,SymLinksIfOwnerMatch

        # set who can access the directory
        Require all granted
    </Directory>

    # SSL certificate
    SSLEngine On

    # certificates
    SSLCertificateFile /sites/localhost/ssl/certificate.pem
    SSLCertificateKeyFile /sites/localhost/ssl/private.key
    SSLCACertificateFile /sites/config/ssl/certificate_authority.pem
</VirtualHost>
